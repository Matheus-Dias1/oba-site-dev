{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/matheus/Documents/programas/dev oba-site/mobile/src/pages/ProductsTab/ProductDetails/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Ionicons from '@expo/vector-icons/Ionicons';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport styles from \"./styles\";\nexport default function Products() {\n  var route = useRoute();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      product = _useState2[0],\n      setProduct = _useState2[1];\n\n  var _useState3 = useState([0, 0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      amount = _useState4[0],\n      setAmount = _useState4[1];\n\n  var _useState5 = useState([0, 0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      price = _useState6[0],\n      setPrice = _useState6[1];\n\n  var _useState7 = useState([0, 0]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      value = _useState8[0],\n      setValue = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      observation = _useState10[0],\n      setObservation = _useState10[1];\n\n  var navigation = useNavigation();\n  var imageUrl = 'http://192.168.1.33:3333/image/';\n  useEffect(function () {\n    setProduct(route.params.product);\n    if (route.params.product.unit_price !== null) setValue([route.params.product.price, route.params.product.unit_price]);else setValue([route.params.product.price, -1]);\n  }, []);\n\n  function updateIntValue(pos, val) {\n    if (pos === 1) {\n      setAmount([amount[0], amount[1] + val]);\n      setPrice([price[0], (amount[1] + val) * value[1]]);\n      console.log(price[0]);\n    } else {\n      setAmount([amount[0] + val, amount[1]]);\n      setPrice([(amount[0] + val) * value[0], price[1]]);\n    }\n  }\n\n  function updateFloatValue(val) {\n    var newValue;\n    if (val == \"\") newValue = 0;else newValue = parseFloat(val);\n    setAmount([newValue, amount[1]]);\n    setPrice([newValue * value[0], price[1]]);\n  }\n\n  function addToCart() {\n    navigation.goBack();\n  }\n\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, React.createElement(KeyboardAwareScrollView, {\n    showsVerticalScrollIndicator: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, React.createElement(StatusBar, {\n    barStyle: \"dark-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.imageContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: styles.image,\n    source: {\n      uri: 'https://conteudo.imguol.com.br/c/entretenimento/32/2018/01/18/maca-1516308281068_v2_1920x1279.jpg'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }), React.createElement(Text, {\n    style: styles.productName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, product.product_name), React.createElement(Text, {\n    style: styles.productDescription,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, product.description)), React.createElement(View, {\n    style: styles.amountContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, ['KG'].includes(product.measurement_unit) && React.createElement(View, {\n    style: styles.measurementUnit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 61\n    }\n  }, React.createElement(TextInput, {\n    maxLength: 10,\n    autoCompleteType: \"off\",\n    placeholder: \"Quantidade\",\n    style: styles.AmountInputStyle,\n    keyboardType: 'numeric',\n    onChange: function onChange(e) {\n      return updateFloatValue(e.nativeEvent.text.replace(',', '.'));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, product.measurement_unit), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, Intl.NumberFormat('pt-BR', {\n    style: 'currency',\n    currency: 'BRL'\n  }).format(price[0]))), ['UN', 'BDJ', 'BD', 'CX'].includes(product.measurement_unit) && React.createElement(View, {\n    style: styles.measurementUnit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 80\n    }\n  }, React.createElement(View, {\n    style: styles.intValueCounterContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, amount[0] > 0 && React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return updateIntValue(0, -1);\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 37\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-remove',\n    size: 35,\n    color: '#049434',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  })), amount[0] <= 0 && React.createElement(TouchableOpacity, {\n    onPress: function onPress() {},\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 38\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-remove',\n    size: 35,\n    color: 'gray',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  })), React.createElement(Text, {\n    style: styles.intValueCounterContainerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, amount[0]), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return updateIntValue(0, 1);\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-add',\n    size: 35,\n    color: '#049434',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }))), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"UN\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, Intl.NumberFormat('pt-BR', {\n    style: 'currency',\n    currency: 'BRL'\n  }).format(price[0]))), product.unit_price !== null && React.createElement(View, {\n    style: {\n      borderBottomColor: 'lightgray',\n      borderBottomWidth: 1,\n      opacity: 0.4,\n      width: 325\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 47\n    }\n  }), product.unit_price !== null && React.createElement(View, {\n    style: styles.measurementUnit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 47\n    }\n  }, React.createElement(View, {\n    style: styles.intValueCounterContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, amount[1] > 0 && React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return updateIntValue(1, -1);\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 37\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-remove',\n    size: 35,\n    color: '#049434',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  })), amount[1] <= 0 && React.createElement(TouchableOpacity, {\n    onPress: function onPress() {},\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 38\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-remove',\n    size: 35,\n    color: 'gray',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  })), React.createElement(Text, {\n    style: styles.intValueCounterContainerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, amount[1]), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return updateIntValue(1, 1);\n    },\n    activeOpacity: 0.5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-add',\n    size: 35,\n    color: '#049434',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }))), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"UN\"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, Intl.NumberFormat('pt-BR', {\n    style: 'currency',\n    currency: 'BRL'\n  }).format(price[1])))), React.createElement(View, {\n    style: styles.obsContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Observa\\xE7\\xF5es sobre o produto\",\n    maxLength: 240,\n    style: styles.textArea,\n    multiline: true,\n    numberOfLines: 4,\n    onChangeText: function onChangeText(text) {\n      return setObservation(text);\n    },\n    value: observation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })))), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return addToCart();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.addToCartButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-cart',\n    size: 35,\n    color: 'white',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.addToCartText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"Adicionar ao Carrinho\")))));\n}","map":{"version":3,"sources":["/home/matheus/Documents/programas/dev oba-site/mobile/src/pages/ProductsTab/ProductDetails/index.js"],"names":["React","useState","useEffect","Ionicons","KeyboardAwareScrollView","useNavigation","useRoute","styles","Products","route","product","setProduct","amount","setAmount","price","setPrice","value","setValue","observation","setObservation","navigation","imageUrl","params","unit_price","updateIntValue","pos","val","console","log","updateFloatValue","newValue","parseFloat","addToCart","goBack","Keyboard","dismiss","flex","container","imageContainer","image","uri","productName","product_name","productDescription","description","amountContainer","includes","measurement_unit","measurementUnit","AmountInputStyle","e","nativeEvent","text","replace","Intl","NumberFormat","style","currency","format","intValueCounterContainer","intValueCounterContainerText","borderBottomColor","borderBottomWidth","opacity","width","obsContainer","textArea","addToCartButton","addToCartText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, Image, StatusBar, TouchableOpacity, TextInput, TouchableWithoutFeedback, Keyboard } from 'react-native';\nimport Ionicons from '@expo/vector-icons/Ionicons'\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view'\nimport { useNavigation, useRoute } from '@react-navigation/native';\n\n\n//<FontAwesome5 name={iconName} size={size} color={color} light />\n\n\nimport styles from './styles';\n\nexport default function Products() {\n  const route = useRoute();\n  const [product, setProduct] = useState({});\n  const [amount, setAmount] = useState([0, 0]);\n  const [price, setPrice] = useState([0, 0]);\n  const [value, setValue] = useState([0, 0]);\n  const [observation, setObservation] = useState('');\n  const navigation = useNavigation();\n  const imageUrl = 'http://192.168.1.33:3333/image/'\n\n  useEffect(() => {\n    setProduct(route.params.product);\n    if (route.params.product.unit_price !== null)\n      setValue([route.params.product.price, route.params.product.unit_price])\n    else\n      setValue([route.params.product.price, -1])\n\n  }, [])\n  function updateIntValue(pos, val) {\n    if (pos === 1) {\n      setAmount([amount[0], amount[1] + val]);\n      setPrice([price[0], (amount[1] + val) * value[1]]);\n      console.log(price[0]);\n    }\n    else {\n      setAmount([amount[0] + val, amount[1]])\n      setPrice([(amount[0]+val)*value[0], price[1]]);\n    }\n\n  }\n  function updateFloatValue(val) {\n    let newValue;\n    if (val == \"\") newValue = 0;\n    else newValue = parseFloat(val);\n    setAmount([newValue, amount[1]]);\n    setPrice([newValue * value[0], price[1]]);\n  }\n  function addToCart() {\n    navigation.goBack();\n  }\n\n  return (\n    <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>\n      <View style={{ flex: 1 }}>\n        <KeyboardAwareScrollView showsVerticalScrollIndicator={false}>\n          <View style={styles.container}>\n            <StatusBar barStyle=\"dark-content\" />\n            <View style={styles.imageContainer}>\n              <Image\n                style={styles.image}\n                source={{\n                  //uri: imageUrl + product.picture_path\n                  uri: 'https://conteudo.imguol.com.br/c/entretenimento/32/2018/01/18/maca-1516308281068_v2_1920x1279.jpg'\n                }}\n              />\n              <Text style={styles.productName}>{product.product_name}</Text>\n              <Text style={styles.productDescription}>{product.description}</Text>\n            </View>\n            <View style={styles.amountContainer}>\n              {['KG'].includes(product.measurement_unit) && <View style={styles.measurementUnit}>\n                <TextInput\n                  maxLength={10}\n                  autoCompleteType=\"off\"\n                  placeholder=\"Quantidade\"\n                  style={styles.AmountInputStyle}\n                  keyboardType={'numeric'}\n                  onChange={e => updateFloatValue(e.nativeEvent.text.replace(',', '.'))}\n                />\n                <Text>{product.measurement_unit}</Text>\n                <Text>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(price[0])}</Text>\n              </View>}\n              {['UN', 'BDJ', 'BD', 'CX'].includes(product.measurement_unit) && <View style={styles.measurementUnit}>\n                <View style={styles.intValueCounterContainer}>\n                  {amount[0] > 0 && <TouchableOpacity onPress={() => updateIntValue(0, -1)} activeOpacity={0.5}>\n                    <Ionicons name={'ios-remove'} size={35} color={'#049434'} />\n                  </TouchableOpacity>}\n                  {amount[0] <= 0 && <TouchableOpacity onPress={() => { }} activeOpacity={0.5}>\n                    <Ionicons name={'ios-remove'} size={35} color={'gray'} />\n                  </TouchableOpacity>}\n                  <Text style={styles.intValueCounterContainerText}>{amount[0]}</Text>\n                  <TouchableOpacity onPress={() => updateIntValue(0, 1)} activeOpacity={0.5}>\n                    <Ionicons name={'ios-add'} size={35} color={'#049434'} />\n                  </TouchableOpacity>\n                </View>\n                <Text>UN</Text>\n                <Text>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(price[0])}</Text>\n              </View>}\n              {product.unit_price !== null && <View\n                style={{\n                  borderBottomColor: 'lightgray',\n                  borderBottomWidth: 1,\n                  opacity: 0.4,\n                  width: 325,\n\n                }}\n              />}\n              {product.unit_price !== null && <View style={styles.measurementUnit}>\n                <View style={styles.intValueCounterContainer}>\n                  {amount[1] > 0 && <TouchableOpacity onPress={() => updateIntValue(1, -1)} activeOpacity={0.5}>\n                    <Ionicons name={'ios-remove'} size={35} color={'#049434'} />\n                  </TouchableOpacity>}\n                  {amount[1] <= 0 && <TouchableOpacity onPress={() => { }} activeOpacity={0.5}>\n                    <Ionicons name={'ios-remove'} size={35} color={'gray'} />\n                  </TouchableOpacity>}\n                  <Text style={styles.intValueCounterContainerText}>{amount[1]}</Text>\n                  <TouchableOpacity onPress={() => updateIntValue(1, 1)} activeOpacity={0.5}>\n                    <Ionicons name={'ios-add'} size={35} color={'#049434'} />\n                  </TouchableOpacity>\n                </View>\n                <Text>UN</Text>\n                <Text>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(price[1])}</Text>\n              </View>}\n\n            </View>\n            <View style={styles.obsContainer}>\n              <TextInput\n                placeholder=\"Observações sobre o produto\"\n                maxLength={240}\n                style={styles.textArea}\n                multiline={true}\n                numberOfLines={4}\n                onChangeText={(text) => setObservation(text)}\n                value={observation}\n              />\n            </View>\n\n\n          </View>\n        </KeyboardAwareScrollView>\n        <TouchableWithoutFeedback onPress={() => addToCart()}>\n          <View style={styles.addToCartButton}>\n            <Ionicons name={'ios-cart'} size={35} color={'white'} />\n            <Text style={styles.addToCartText}>Adicionar ao Carrinho</Text>\n          </View>\n        </TouchableWithoutFeedback>\n      </View>\n    </TouchableWithoutFeedback>\n  );\n}"]},"metadata":{},"sourceType":"module"}