{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/matheus/Documents/programas/dev oba-site/mobile/src/pages/ProductsTab/Products/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from 'react-native-modal';\nimport { useNavigation } from '@react-navigation/native';\nimport Ionicons from '@expo/vector-icons/Ionicons';\nimport api from \"./../../../services/api\";\nimport logo from \"../../../assets/logo_green_nobg.png\";\nimport styles from \"./styles\";\nexport default function Products() {\n  var navigation = useNavigation();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      cartAccessible = _useState2[0],\n      setCartAccessible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isCartVisible = _useState4[0],\n      setIsCartVisible = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      products = _useState6[0],\n      setProducts = _useState6[1];\n\n  var imageUrl = 'http://192.168.1.33:3333/image/';\n\n  function loadProducts() {\n    var response;\n    return _regeneratorRuntime.async(function loadProducts$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(api.get('/profile/products'));\n\n          case 2:\n            response = _context.sent;\n            setProducts(response.data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    loadProducts();\n  }, []);\n\n  function navigateToDetails(product) {\n    navigation.navigate('Produtos', {\n      screen: 'ProductDetails',\n      params: {\n        product: product\n      }\n    });\n  }\n\n  function openCart() {\n    setIsCartVisible(true);\n  }\n\n  function closeCart() {\n    setIsCartVisible(false);\n  }\n\n  function finalizePurchase() {\n    setIsCartVisible(false);\n    navigation.navigate('Produtos', {\n      screen: 'FinalizePurchase'\n    });\n  }\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, React.createElement(Modal, {\n    propagateSwipe: true,\n    isVisible: isCartVisible,\n    avoidKeyboard: true,\n    onBackdropPress: function onBackdropPress() {\n      return closeCart();\n    },\n    onSwipeComplete: function onSwipeComplete() {\n      return closeCart();\n    },\n    swipeDirection: \"down\",\n    style: styles.modal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.modalContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return closeCart();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.cartHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, React.createElement(Ionicons, {\n    style: styles.closeCartIcon,\n    name: 'ios-arrow-down',\n    size: 30,\n    color: '#049434',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }), React.createElement(Text, {\n    style: styles.cartHeaderText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Carrinho de Compras\"))), React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      marginTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: styles.cartContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.cartListing,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, React.createElement(View, {\n    style: styles.cartListingNameAndAmout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.cartListingAmount,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }\n  }, \"5 \", React.createElement(Text, {\n    style: styles.cartListingObservation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 64\n    }\n  }, \"x\"), \" \", React.createElement(Text, {\n    style: styles.cartListingProductName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 117\n    }\n  }, \"Ma\\xE7\\xE3\"), \" (KG)\")), React.createElement(Text, {\n    style: styles.cartListingObservation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Observa\\xE7\\xE3o: N\\xE3o se se muito muito muito muito muito muito muito muito muito muitomuito Maduros\"), React.createElement(Text, {\n    style: styles.cartListingValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"R$ 2,00\")), React.createElement(Ionicons, {\n    name: 'ios-trash',\n    style: styles.cartListingDeleteIcon,\n    size: 30,\n    color: '#737380',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  })), React.createElement(View, {\n    style: styles.cartListingSeparator,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return closeCart();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.addMoreItensContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Adicionar mais itens\"), React.createElement(Ionicons, {\n    name: 'ios-add',\n    style: {\n      marginLeft: 20,\n      marginTop: 3\n    },\n    size: 30,\n    color: '#049434',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  })))))), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return finalizePurchase();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.finalizePurchase,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.buyButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, \"Concluir compra\"), React.createElement(Text, {\n    style: styles.buyButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, \"R$ 52,00\"))))), React.createElement(StatusBar, {\n    barStyle: \"dark-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: {\n      flex: 0,\n      backgroundColor: '#049434'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    style: styles.productsList,\n    showsVerticalScrollIndicator: false,\n    keyExtractor: function keyExtractor(product) {\n      return String(product.id);\n    },\n    data: products,\n    renderItem: function renderItem(_ref) {\n      var product = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigateToDetails(product);\n        },\n        activeOpacity: 0.8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: styles.product,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.productInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.productName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }\n      }, product.product_name), React.createElement(Text, {\n        style: styles.productValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.productProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 55\n        }\n      }, 'Valor/' + product.measurement_unit + ': '), Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      }).format(product.price)), product.unit_value !== null && React.createElement(Text, {\n        style: styles.productValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 53\n        }\n      }, React.createElement(Text, {\n        style: styles.productProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 87\n        }\n      }, 'Valor/UN: '), Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      }).format(product.unit_price))), React.createElement(Image, {\n        onLoadStart: function onLoadStart() {\n          return console.log('começou');\n        },\n        style: styles.logo,\n        source: {\n          uri: imageUrl + product.picture_path\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 19\n        }\n      })));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }))), cartAccessible && React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return openCart();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 26\n    }\n  }, React.createElement(View, {\n    style: styles.showCartButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-cart',\n    size: 35,\n    color: 'white',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.showCartText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, \"Abrir Carrinho\"))));\n}","map":{"version":3,"sources":["/home/matheus/Documents/programas/dev oba-site/mobile/src/pages/ProductsTab/Products/index.js"],"names":["React","useState","useEffect","Modal","useNavigation","Ionicons","api","logo","styles","Products","navigation","cartAccessible","setCartAccessible","isCartVisible","setIsCartVisible","products","setProducts","imageUrl","loadProducts","get","response","data","navigateToDetails","product","navigate","screen","params","openCart","closeCart","finalizePurchase","flex","modal","modalContainer","cartHeader","closeCartIcon","cartHeaderText","marginTop","cartContainer","cartListing","cartListingNameAndAmout","cartListingAmount","cartListingObservation","cartListingProductName","cartListingValue","cartListingDeleteIcon","cartListingSeparator","addMoreItensContainer","marginLeft","buyButton","backgroundColor","container","productsList","String","id","item","productInfo","productName","product_name","productValue","productProperty","measurement_unit","Intl","NumberFormat","style","currency","format","price","unit_value","unit_price","console","log","uri","picture_path","showCartButton","showCartText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  SafeAreaView,\n  FlatList,\n  Text,\n  Image,\n  StatusBar,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  ScrollView,\n\n} from 'react-native';\nimport Modal from 'react-native-modal';\nimport { useNavigation } from '@react-navigation/native';\nimport Ionicons from '@expo/vector-icons/Ionicons'\nimport api from './../../../services/api'\nimport logo from '../../../assets/logo_green_nobg.png'\n\nimport styles from './styles';\nexport default function Products() {\n\n  const navigation = useNavigation();\n  const [cartAccessible, setCartAccessible] = useState(true);\n  const [isCartVisible, setIsCartVisible] = useState(false);\n  const [products, setProducts] = useState([]);\n  const imageUrl = 'http://192.168.1.33:3333/image/'\n\n\n  async function loadProducts() {\n    const response = await api.get('/profile/products');\n    setProducts(response.data);\n  }\n\n  useEffect(() => {\n    loadProducts();\n  }, [])\n\n  function navigateToDetails(product) {\n    navigation.navigate('Produtos', {\n      screen: 'ProductDetails',\n      params: { product: product }\n    });\n  }\n\n  function openCart() {\n    setIsCartVisible(true);\n  }\n  function closeCart() {\n    setIsCartVisible(false);\n  }\n\n  function finalizePurchase() {\n    setIsCartVisible(false);\n    navigation.navigate('Produtos', { screen: 'FinalizePurchase' });\n  }\n\n\n\n  return (\n    <View style={{ flex: 1 }}>\n\n      <Modal\n        propagateSwipe={true}\n        isVisible={isCartVisible}\n        avoidKeyboard={true}\n        onBackdropPress={() => closeCart()}\n        onSwipeComplete={() => closeCart()}\n        swipeDirection={\"down\"}\n        style={styles.modal}\n      >\n        <View style={styles.modalContainer}>\n          <TouchableWithoutFeedback onPress={() => closeCart()}>\n            <View style={styles.cartHeader}>\n              <Ionicons style={styles.closeCartIcon} name={'ios-arrow-down'} size={30} color={'#049434'} />\n              <Text style={styles.cartHeaderText}>Carrinho de Compras</Text>\n            </View>\n          </TouchableWithoutFeedback>\n          <ScrollView>\n            <TouchableWithoutFeedback>\n              <View style={{ marginTop: 10 }}>\n                <View style={styles.cartContainer}>\n                  <View style={styles.cartListing}>\n                    <View style={styles.cartListingNameAndAmout}>\n                      <Text style={styles.cartListingAmount}>5 <Text style={styles.cartListingObservation}>x</Text> <Text style={styles.cartListingProductName}>Maçã</Text> (KG)</Text>\n                    </View>\n                    <Text style={styles.cartListingObservation}>Observação: Não se se muito muito muito muito muito muito muito muito muito muitomuito Maduros</Text>\n                    <Text style={styles.cartListingValue}>R$ 2,00</Text>\n                  </View>\n                  <Ionicons name={'ios-trash'} style={styles.cartListingDeleteIcon} size={30} color={'#737380'} />\n                </View>\n                <View style={styles.cartListingSeparator} />\n\n\n\n\n                <TouchableWithoutFeedback onPress={() => closeCart()}>\n                  <View style={styles.addMoreItensContainer}>\n                    <Text>Adicionar mais itens</Text>\n                    <Ionicons name={'ios-add'} style={{ marginLeft: 20, marginTop: 3 }} size={30} color={'#049434'} />\n                  </View>\n                </TouchableWithoutFeedback>\n\n\n\n              </View>\n\n            </TouchableWithoutFeedback>\n          </ScrollView>\n          <TouchableWithoutFeedback onPress={() => finalizePurchase()}>\n            <View style={styles.finalizePurchase}>\n              <Text style={styles.buyButton}>Concluir compra</Text>\n              <Text style={styles.buyButton}>R$ 52,00</Text>\n            </View>\n          </TouchableWithoutFeedback>\n        </View>\n      </Modal>\n      <StatusBar barStyle=\"dark-content\" />\n\n      <SafeAreaView style={{ flex: 0, backgroundColor: '#049434' }} />\n\n      <SafeAreaView style={{ flex: 1 }}>\n\n        <View style={styles.container}>\n\n          <FlatList\n            style={styles.productsList}\n            showsVerticalScrollIndicator={false}\n            keyExtractor={product => String(product.id)}\n            data={products}\n            renderItem={({ item: product }) => (\n              <TouchableOpacity onPress={() => navigateToDetails(product)} activeOpacity={0.8}>\n                <View style={styles.product}>\n\n                  <View style={styles.productInfo}>\n                    <Text style={styles.productName}>{product.product_name}</Text>\n                    <Text style={styles.productValue}><Text style={styles.productProperty}>{'Valor/' + product.measurement_unit + ': '}</Text>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(product.price)}</Text>\n                    {product.unit_value !== null && <Text style={styles.productValue}><Text style={styles.productProperty}>{'Valor/UN: '}</Text>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(product.unit_price)}</Text>}\n                  </View>\n\n                  <Image\n                    onLoadStart={() => console.log('começou')}\n                    style={styles.logo}\n                    source={{uri: imageUrl + product.picture_path}}\n                  />\n\n                </View>\n              </TouchableOpacity>\n            )}\n          />\n\n        </View>\n\n      </SafeAreaView>\n\n      {cartAccessible && <TouchableWithoutFeedback onPress={() => openCart()}>\n        <View style={styles.showCartButton}>\n          <Ionicons name={'ios-cart'} size={35} color={'white'} />\n          <Text style={styles.showCartText}>Abrir Carrinho</Text>\n        </View>\n      </TouchableWithoutFeedback>}\n\n    </View>\n  );\n}"]},"metadata":{},"sourceType":"module"}