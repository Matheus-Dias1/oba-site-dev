{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/matheus/Documents/programas/dev oba-site/mobile/src/pages/ProductsTab/Products/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from 'react-native-modal';\nimport { useNavigation } from '@react-navigation/native';\nimport Ionicons from '@expo/vector-icons/Ionicons';\nimport api from \"./../../../services/api\";\nimport styles from \"./styles\";\nexport default function Products() {\n  var navigation = useNavigation();\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      cartAccessible = _useState2[0],\n      setCartAccessible = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isCartVisible = _useState4[0],\n      setIsCartVisible = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      products = _useState6[0],\n      setProducts = _useState6[1];\n\n  var imageUrl = 'http://192.168.1.33:3333/image/';\n\n  function loadProducts() {\n    var response;\n    return _regeneratorRuntime.async(function loadProducts$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(api.get('/profile/products'));\n\n          case 2:\n            response = _context.sent;\n            setProducts(response.data);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    loadProducts();\n  }, []);\n\n  function navigateToDetails(product) {\n    navigation.navigate('Produtos', {\n      screen: 'ProductDetails',\n      params: {\n        product: product\n      }\n    });\n  }\n\n  function openCart() {\n    setIsCartVisible(true);\n  }\n\n  function closeCart() {\n    setIsCartVisible(false);\n  }\n\n  function finalizePurchase() {\n    setIsCartVisible(false);\n    navigation.navigate('Produtos', {\n      screen: 'FinalizePurchase'\n    });\n  }\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    barStyle: \"dark-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: {\n      flex: 0,\n      backgroundColor: '#049434'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    style: styles.productsList,\n    showsVerticalScrollIndicator: false,\n    keyExtractor: function keyExtractor(product) {\n      return String(product.id);\n    },\n    data: products,\n    renderItem: function renderItem(_ref) {\n      var product = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigateToDetails(product);\n        },\n        activeOpacity: 0.8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: styles.product,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.productInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.productName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }, product.product_name), React.createElement(Text, {\n        style: styles.productValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.productProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 55\n        }\n      }, 'Valor/' + product.measurement_unit + ': '), Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      }).format(product.price)), product.unit_value !== null && React.createElement(Text, {\n        style: styles.productValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 53\n        }\n      }, React.createElement(Text, {\n        style: styles.productProperty,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 87\n        }\n      }, 'Valor/UN: '), Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      }).format(product.unit_price))), React.createElement(Image, {\n        onLoadStart: function onLoadStart() {\n          return console.log('começou');\n        },\n        style: styles.logo,\n        source: {\n          uri: imageUrl + product.picture_path\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 19\n        }\n      })));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }))), cartAccessible && React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return openCart();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 26\n    }\n  }, React.createElement(View, {\n    style: styles.showCartButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, React.createElement(Ionicons, {\n    name: 'ios-cart',\n    size: 35,\n    color: 'white',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.showCartText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, \"Abrir Carrinho\"))));\n}","map":{"version":3,"sources":["/home/matheus/Documents/programas/dev oba-site/mobile/src/pages/ProductsTab/Products/index.js"],"names":["React","useState","useEffect","Modal","useNavigation","Ionicons","api","styles","Products","navigation","cartAccessible","setCartAccessible","isCartVisible","setIsCartVisible","products","setProducts","imageUrl","loadProducts","get","response","data","navigateToDetails","product","navigate","screen","params","openCart","closeCart","finalizePurchase","flex","backgroundColor","container","productsList","String","id","item","productInfo","productName","product_name","productValue","productProperty","measurement_unit","Intl","NumberFormat","style","currency","format","price","unit_value","unit_price","console","log","logo","uri","picture_path","showCartButton","showCartText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  SafeAreaView,\n  FlatList,\n  Text,\n  Image,\n  StatusBar,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  ScrollView,\n\n} from 'react-native';\nimport Modal from 'react-native-modal';\nimport { useNavigation } from '@react-navigation/native';\nimport Ionicons from '@expo/vector-icons/Ionicons'\nimport api from './../../../services/api'\n\nimport styles from './styles';\nexport default function Products() {\n\n  const navigation = useNavigation();\n  const [cartAccessible, setCartAccessible] = useState(true);\n  const [isCartVisible, setIsCartVisible] = useState(false);\n  const [products, setProducts] = useState([]);\n  const imageUrl = 'http://192.168.1.33:3333/image/'\n\n  async function loadProducts() {\n    const response = await api.get('/profile/products');\n    setProducts(response.data);\n  }\n\n  useEffect(() => {\n    loadProducts();\n  }, [])\n\n  function navigateToDetails(product) {\n    navigation.navigate('Produtos', {\n      screen: 'ProductDetails',\n      params: {product: product}\n    });\n  }\n\n  function openCart() {\n    setIsCartVisible(true);\n  }\n  function closeCart() {\n    setIsCartVisible(false);\n  }\n\n  function finalizePurchase() {\n    setIsCartVisible(false);\n    navigation.navigate('Produtos', { screen: 'FinalizePurchase' });\n  }\n\n\n\n  return (\n    <View style={{ flex: 1 }}>\n\n      {/* <Modal\n        propagateSwipe={true}\n        isVisible={isCartVisible}\n        avoidKeyboard={true}\n        onBackdropPress={() => closeCart()}\n        onSwipeComplete={() => closeCart()}\n        swipeDirection={\"down\"}\n        style={styles.modal}\n      >\n        <View style={styles.modalContainer}>\n          <TouchableWithoutFeedback onPress={() => closeCart()}>\n            <View style={styles.cartHeader}>\n              <Ionicons style={styles.closeCartIcon} name={'ios-arrow-down'} size={30} color={'#049434'} />\n              <Text style={styles.cartHeaderText}>Carrinho de Compras</Text>\n            </View>\n          </TouchableWithoutFeedback>\n          <ScrollView>\n            <TouchableWithoutFeedback>\n              <View style={{ marginTop: 10 }}>\n                <View style={styles.cartContainer}>\n                  <View style={styles.cartListing}>\n                    <View style={styles.cartListingNameAndAmout}>\n                      <Text style={styles.cartListingAmount}>5 <Text style={styles.cartListingObservation}>x</Text> <Text style={styles.cartListingProductName}>Maçã</Text> (KG)</Text>\n                    </View>\n                    <Text style={styles.cartListingObservation}>Observação: Não se se muito muito muito muito muito muito muito muito muito muitomuito Maduros</Text>\n                    <Text style={styles.cartListingValue}>R$ 2,00</Text>\n                  </View>\n                  <Ionicons name={'ios-trash'} style={styles.cartListingDeleteIcon} size={30} color={'#737380'} />\n                </View>\n                <View style={styles.cartListingSeparator} />\n\n\n\n\n                <TouchableWithoutFeedback onPress={() => closeCart()}>\n                  <View style={styles.addMoreItensContainer}>\n                    <Text>Adicionar mais itens</Text>\n                    <Ionicons name={'ios-add'} style={{ marginLeft: 20, marginTop: 3 }} size={30} color={'#049434'} />\n                  </View>\n                </TouchableWithoutFeedback>\n\n\n\n              </View>\n\n            </TouchableWithoutFeedback>\n          </ScrollView>\n          <TouchableWithoutFeedback onPress={() => finalizePurchase()}>\n            <View style={styles.finalizePurchase}>\n              <Text style={styles.buyButton}>Concluir compra</Text>\n              <Text style={styles.buyButton}>R$ 52,00</Text>\n            </View>\n          </TouchableWithoutFeedback>\n        </View>\n      </Modal> */}\n      <StatusBar barStyle=\"dark-content\" />\n\n      <SafeAreaView style={{ flex: 0, backgroundColor: '#049434' }} />\n\n      <SafeAreaView style={{ flex: 1 }}>\n\n        <View style={styles.container}>\n\n          <FlatList\n            style={styles.productsList}\n            showsVerticalScrollIndicator={false}\n            keyExtractor={product => String(product.id)}\n            data={products}\n            renderItem={({item: product}) => (\n              <TouchableOpacity onPress={() => navigateToDetails(product)} activeOpacity={0.8}>\n                <View style={styles.product}>\n\n                  <View style={styles.productInfo}>\n                    <Text style={styles.productName}>{product.product_name}</Text>\n                    <Text style={styles.productValue}><Text style={styles.productProperty}>{'Valor/'+product.measurement_unit+': '}</Text>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(product.price)}</Text>\n                    {product.unit_value !== null && <Text style={styles.productValue}><Text style={styles.productProperty}>{'Valor/UN: '}</Text>{Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(product.unit_price)}</Text>}\n                  </View>\n\n                  <Image\n                    onLoadStart={()=>console.log('começou')}\n                    style={styles.logo}\n                    source={{\n                      uri: (imageUrl+product.picture_path)\n                    }}\n                  />\n\n                </View>\n              </TouchableOpacity>\n            )}\n          />\n\n        </View>\n\n      </SafeAreaView>\n\n      {cartAccessible && <TouchableWithoutFeedback onPress={() => openCart()}>\n        <View style={styles.showCartButton}>\n          <Ionicons name={'ios-cart'} size={35} color={'white'} />\n          <Text style={styles.showCartText}>Abrir Carrinho</Text>\n        </View>\n      </TouchableWithoutFeedback>}\n\n    </View>\n  );\n}"]},"metadata":{},"sourceType":"module"}